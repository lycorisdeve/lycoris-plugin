{{extend defaultLayout}} {{block 'css'}}
<link rel="stylesheet" type="text/css" href="{{_res_path}}/html/rss/rss.css" />
{{/block}} {{block 'main'}}
<div
  style="--bg-img: url('{{background}}?seed={{seed}}')"
  class="rss-body-wrapper">
  <div class="rss-card-container">
    <div class="rss-header">
      <div class="rss-source">
        <span class="source-tag">{{subName}}</span>
        <span class="pub-date">{{pubDate}}</span>
      </div>
      <h1 class="rss-title">{{title}}</h1>
    </div>

    <div class="rss-body">
      <div class="rss-content">{{@ content}}</div>

      {{if images && images.length > 0}}
      <div
        class="rss-images 
        {{if images.length === 1}}image-count-1
        {{else if images.length === 2}}image-count-2
        {{else if images.length === 3}}image-count-3
        {{else if images.length === 4}}image-count-4
        {{else}}image-count-many{{/if}}">
        {{each images img}}
        <div class="img-wrapper">
          <img
            src="{{img}}"
            alt="RSS Image"
            onerror="this.parentNode.style.display = 'none'"
            onload="
              if (this.naturalWidth < 50 || this.naturalHeight < 50) {
                this.parentNode.style.display = 'none';
              }
            " />
        </div>
        {{/each}}
      </div>
      {{/if}}
    </div>

    <div class="rss-footer">
      <div class="rss-info">
        <p>原文地址: {{link}}</p>
      </div>
    </div>
  </div>
</div>
{{/block}}
